<!doctype html>
<html lang="html">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Http service</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    </head>
    <body>
        <div ng-app="tryHttp" ng-controller="resultCtrl">
            
			<div class="container">
			
				<div id="urlFieldSet">
					<div id="inputEntry">
						<select ng-model="method">
							<option value="GET">Get</option>
							<option value="POST">Post</option>
						</select>
						<input type="text" ng-model="url" ng-pattern="/^[a-z0-9.-]+$/"></input>
						<input class="btn" type="button" ng-click="getData()" value="Get Data"></input>
						<input class="btn" type="button" ng-click="appendField()" value="+"></input>
                        <input class="btn" type="button" ng-click="deleteField()" value="-"></input>
						{{data}}
						<br />
					
					</div>
			
				</div>
			
			
			
			</div>
			
			
			
			<h3>{{method}}: {{url}}</h3>
			
        </div>

        <script>

            var app = angular.module("tryHttp", []);
            app.controller("resultCtrl", function($scope, $http, $compile) {
                $scope.data = "raw";
								
				$scope.getData = function() {
					$http({
					method: $scope.method,
					url: $scope.url,
					})
						.then (function success(response) {
							$scope.data = response.data;
							}, function error(reason) {
							console.log(reason);
							});
					                
					};
				
				$scope.appendField = function() {
					
					var newEntry = $compile(angular.element(
						'<div id="inputEntry">\
							<select ng-model="method">\
								<option value="GET">Get</option>\
								<option value="POST">Post</option>\
							</select>\
							<input type="text" ng-model="url" ng-pattern="/^[a-z0-9.-]+$/"></input>\
							<input class="btn" type="button" ng-click="getData()" value="Get Data"></input>\
							<input class="btn" type="button" ng-click="appendField()" value="+"></input>\
                            <input class="btn" type="button" ng-click="deleteField()" value="-"></input>\
							{{data}}\
							<br />\
						</div>'))($scope);
						
					var urlFieldSet = angular.element(document.getElementById('urlFieldSet'));
					urlFieldSet.append(newEntry);
					
					};
					
					
				
			});
            
        </script>

    </body>
</html>